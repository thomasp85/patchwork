<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create an inset to be added on top of the previous plot — inset_element • patchwork</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create an inset to be added on top of the previous plot — inset_element"><meta name="description" content="The standard approach of patchwork is to place plots next to each other based
on the provided layout. However, it may sometimes be beneficial to place one
or several plots or graphic elements freely on top or below another plot. The
inset_element() function provides a way to create such insets and gives you
full control over placement."><meta property="og:description" content="The standard approach of patchwork is to place plots next to each other based
on the provided layout. However, it may sometimes be beneficial to place one
or several plots or graphic elements freely on top or below another plot. The
inset_element() function provides a way to create such insets and gives you
full control over placement."><meta property="og:image" content="https://patchwork.data-imaginist.com/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">patchwork</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/patchwork.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/guides/assembly.html">Plot Assembly</a></li>
    <li><a class="dropdown-item" href="../articles/guides/layout.html">Controlling Layouts</a></li>
    <li><a class="dropdown-item" href="../articles/guides/annotation.html">Adding Annotation and Style</a></li>
    <li><a class="dropdown-item" href="../articles/guides/multipage.html">Alignment Across Multiple Pages</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2024/09/patchwork-1-3-0/">Version 1.3.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.data-imaginist.com/posts/2024-01-05-patchwork-1-2-0/">Version 1.2.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.data-imaginist.com/2020/insetting-a-new-patchwork-version/">Version 1.1.0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.data-imaginist.com/2019/patch-it-up-and-send-it-out/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/thomasp85/patchwork/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Create an inset to be added on top of the previous plot</h1>
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/patchwork/blob/main/R/inset_element.R" class="external-link"><code>R/inset_element.R</code></a></small>
      <div class="d-none name"><code>inset_element.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The standard approach of patchwork is to place plots next to each other based
on the provided layout. However, it may sometimes be beneficial to place one
or several plots or graphic elements freely on top or below another plot. The
<code>inset_element()</code> function provides a way to create such insets and gives you
full control over placement.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">inset_element</span><span class="op">(</span></span>
<span>  <span class="va">p</span>,</span>
<span>  <span class="va">left</span>,</span>
<span>  <span class="va">bottom</span>,</span>
<span>  <span class="va">right</span>,</span>
<span>  <span class="va">top</span>,</span>
<span>  align_to <span class="op">=</span> <span class="st">"panel"</span>,</span>
<span>  on_top <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  clip <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ignore_tag <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-p">p<a class="anchor" aria-label="anchor" href="#arg-p"></a></dt>
<dd><p>A grob, ggplot, patchwork, formula, raster, nativeRaster, or gt object
to add as an inset</p></dd>


<dt id="arg-left-bottom-right-top">left, bottom, right, top<a class="anchor" aria-label="anchor" href="#arg-left-bottom-right-top"></a></dt>
<dd><p>numerics or units giving the location of the
outer bounds. If given as numerics they will be converted to <code>npc</code> units.</p></dd>


<dt id="arg-align-to">align_to<a class="anchor" aria-label="anchor" href="#arg-align-to"></a></dt>
<dd><p>Specifies what <code>left</code>, <code>bottom</code>, etc should be relative to.
Either <code>'panel'</code> (default), <code>'plot'</code>, or <code>'full'</code>.</p></dd>


<dt id="arg-on-top">on_top<a class="anchor" aria-label="anchor" href="#arg-on-top"></a></dt>
<dd><p>Logical. Should the inset be placed on top of the other plot or
below (but above the background)?</p></dd>


<dt id="arg-clip">clip<a class="anchor" aria-label="anchor" href="#arg-clip"></a></dt>
<dd><p>Logical. Should clipping be performed on the inset?</p></dd>


<dt id="arg-ignore-tag">ignore_tag<a class="anchor" aria-label="anchor" href="#arg-ignore-tag"></a></dt>
<dd><p>Logical. Should autotagging ignore the inset?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>inset_path</code> object</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="va">disp</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">gear</span>, <span class="va">disp</span>, group <span class="op">=</span> <span class="va">gear</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Basic use</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">+</span> <span class="fu">inset_element</span><span class="op">(</span><span class="va">p2</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inset_element-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Align to the full area instead</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">+</span> <span class="fu">inset_element</span><span class="op">(</span><span class="va">p2</span>, <span class="fl">0</span>, <span class="fl">0.6</span>, <span class="fl">0.4</span>, <span class="fl">1</span>, align_to <span class="op">=</span> <span class="st">'full'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inset_element-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Grobs and other objects can be added as insets as well</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">+</span> <span class="fu">inset_element</span><span class="op">(</span><span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/grid.circle.html" class="external-link">circleGrob</a></span><span class="op">(</span><span class="op">)</span>, <span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inset_element-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">'png'</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">logo</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'help'</span>, <span class="st">'figures'</span>, <span class="st">'logo.png'</span>, package <span class="op">=</span> <span class="st">'patchwork'</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">logo</span> <span class="op">&lt;-</span> <span class="fu">png</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/png/man/readPNG.html" class="external-link">readPNG</a></span><span class="op">(</span><span class="va">logo</span>, native <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">p1</span> <span class="op">+</span> <span class="fu">inset_element</span><span class="op">(</span><span class="va">logo</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>, <span class="fl">1</span>, <span class="fl">1</span>, align_to <span class="op">=</span> <span class="st">'full'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-plt img"><img src="inset_element-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Just as expected insets are still amenable to changes after the fact</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">inset_element</span><span class="op">(</span><span class="va">p2</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inset_element-5.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tagging also continues to work as expected</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">inset_element</span><span class="op">(</span><span class="va">p2</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot_annotation.html">plot_annotation</a></span><span class="op">(</span>tag_levels <span class="op">=</span> <span class="st">'1'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inset_element-6.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># but can be turned off, like for wrapped plots</span></span></span>
<span class="r-in"><span><span class="va">p1</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">inset_element</span><span class="op">(</span><span class="va">p2</span>, <span class="fl">0.6</span>, <span class="fl">0.6</span>, <span class="fl">1</span>, <span class="fl">1</span>, ignore_tag <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="plot_annotation.html">plot_annotation</a></span><span class="op">(</span>tag_levels <span class="op">=</span> <span class="st">'1'</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="inset_element-7.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://data-imaginist.com" class="external-link">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

