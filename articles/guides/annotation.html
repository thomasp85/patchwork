<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adding Annotation and Style • patchwork</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Adding Annotation and Style">
<meta property="og:description" content="patchwork">
<meta property="og:image" content="https://patchwork.data-imaginist.com/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">patchwork</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/patchwork.html">Getting Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../../articles/guides/assembly.html">Plot Assembly</a>
    </li>
    <li>
      <a href="../../articles/guides/layout.html">Controlling Layout</a>
    </li>
    <li>
      <a href="../../articles/guides/annotation.html">Adding annotation to a patchwork</a>
    </li>
    <li>
      <a href="../../articles/guides/multipage.html">Multipage Alignment</a>
    </li>
  </ul>
</li>
<li>
  <a href="../../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.data-imaginist.com/2019/patch-it-up-and-send-it-out/">Version 1.0.0</a>
    </li>
    <li class="divider">
    <li>
      <a href="../../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thomasp85/patchwork">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Adding Annotation and Style</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thomasp85/patchwork/blob/master/vignettes/guides/annotation.Rmd"><code>vignettes/guides/annotation.Rmd</code></a></small>
      <div class="hidden name"><code>annotation.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">patchwork</span>)</pre></body></html></div>
<p>Sometimes you simply want to put multiple plots side by side and call it a day, but often you want the end result to stand forth like a collective thing. To achieve that you would often add a title and other textual cues. This guide will teach you how to do that.</p>
<p>As always, we start with some plots.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">ggplot2</span>)
<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">mtcars</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">mpg</span>, <span class="no">disp</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">'Plot 1'</span>)

<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">mtcars</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">gear</span>, <span class="no">disp</span>, <span class="kw">group</span> <span class="kw">=</span> <span class="no">gear</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">'Plot 2'</span>)

<span class="no">p3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">mtcars</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">hp</span>, <span class="no">wt</span>, <span class="kw">colour</span> <span class="kw">=</span> <span class="no">mpg</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">'Plot 3'</span>)

<span class="no">p4</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(<span class="no">mtcars</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span>(<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="no">gear</span>)) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(~<span class="no">cyl</span>) +
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span>(<span class="st">'Plot 4'</span>)</pre></body></html></div>
<div id="titles-subtitles-and-captions" class="section level2">
<h2 class="hasAnchor">
<a href="#titles-subtitles-and-captions" class="anchor"></a>Titles, subtitles and captions</h2>
<p>One of the most needed things is to add descriptive text to your plot ensemble. To achieve this, you simply add it to your patchwork using <code><a href="../../reference/plot_annotation.html">plot_annotation()</a></code></p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">patchwork</span> <span class="kw">&lt;-</span> (<span class="no">p1</span> + <span class="no">p2</span>) / <span class="no">p3</span>
<span class="no">patchwork</span> + <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(
  <span class="kw">title</span> <span class="kw">=</span> <span class="st">'The surprising truth about mtcars'</span>,
  <span class="kw">subtitle</span> <span class="kw">=</span> <span class="st">'These 3 plots will reveal yet-untold secrets about our beloved data-set'</span>,
  <span class="kw">caption</span> <span class="kw">=</span> <span class="st">'Disclaimer: None of these plots are insightful'</span>
)</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<p>It is important to note that plot annotations only have an effect on the top-level patchwork. Any annotation added to nested patchworks are (currently) lost. If you need to have annotations for a nested patchwork you’ll need to wrap it in <code><a href="../../reference/wrap_elements.html">wrap_elements()</a></code> with the side-effect that alignment no longer works.</p>
</div>
<div id="tagging" class="section level2">
<h2 class="hasAnchor">
<a href="#tagging" class="anchor"></a>Tagging</h2>
<p>Often, especially in scientific literature, multiple plots are collected in a single figure and referred to by a tag. While such tags could be added manually, it is much simpler to let patchwork handle it for you, using the auto-tagging functionality. This is turned on by setting <code>tag_level</code> in <code><a href="../../reference/plot_annotation.html">plot_annotation()</a></code> to a value indicating the family of symbols to use for tagging: <code>'1'</code> for Arabic numerals, <code>'A'</code> for uppercase Latin letters, <code>'a'</code> for lowercase Latin letters, <code>'I'</code> for uppercase Roman numerals, and <code>'i'</code> for lowercase Roman numerals.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">patchwork</span> + <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">tag_levels</span> <span class="kw">=</span> <span class="st">'A'</span>)</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Tags uses the theming of the plot they are applied to, so make sure they match up, or modify the theming of all plots using <code><a href="https://rdrr.io/r/base/Logic.html">&amp;</a></code> (see the <a href="assembly.html">Plot Assembly</a> guide).</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">patchwork</span> +
  <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">tag_levels</span> <span class="kw">=</span> <span class="st">'A'</span>) <span class="kw">&amp;</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">plot.tag</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="kw">size</span> <span class="kw">=</span> <span class="fl">8</span>))</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>When the patchwork contains nested layouts the tagging will recurse into them by default, but you can tell it to define a new tagging level with the <code>tag_level</code> argument in <code><a href="../../reference/plot_layout.html">plot_layout()</a></code>. You can then provide multiple tag-types to <code>tag_levels</code> to define how subtagging should be enumerated.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">patchwork</span><span class="kw">[[</span><span class="fl">1</span>]] <span class="kw">&lt;-</span> <span class="no">patchwork</span><span class="kw">[[</span><span class="fl">1</span>]] + <span class="fu"><a href="../../reference/plot_layout.html">plot_layout</a></span>(<span class="kw">tag_level</span> <span class="kw">=</span> <span class="st">'new'</span>)
<span class="no">patchwork</span> + <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">tag_levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'A'</span>, <span class="st">'1'</span>))</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>With <code><a href="../../reference/plot_annotation.html">plot_annotation()</a></code>it is also possible to define separator, prefix, and suffix for the tag, but don’t go overboard with it:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">patchwork</span> + <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">tag_levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'A'</span>, <span class="st">'1'</span>), <span class="kw">tag_prefix</span> <span class="kw">=</span> <span class="st">'Fig. '</span>,
                            <span class="kw">tag_sep</span> <span class="kw">=</span> <span class="st">'.'</span>, <span class="kw">tag_suffix</span> <span class="kw">=</span> <span class="st">':'</span>)</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>The default ggplot2 theme puts the tag in its own row and column that will expand to fit. For longer tag text this will look weird, so it is better to place it on top of the plot region:</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">patchwork</span> +
  <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">tag_levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">'A'</span>, <span class="st">'1'</span>), <span class="kw">tag_prefix</span> <span class="kw">=</span> <span class="st">'Fig. '</span>, <span class="kw">tag_sep</span> <span class="kw">=</span> <span class="st">'.'</span>,
                  <span class="kw">tag_suffix</span> <span class="kw">=</span> <span class="st">':'</span>) <span class="kw">&amp;</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">plot.tag.position</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">0</span>, <span class="fl">1</span>),
        <span class="kw">plot.tag</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="kw">size</span> <span class="kw">=</span> <span class="fl">8</span>, <span class="kw">hjust</span> <span class="kw">=</span> <span class="fl">0</span>, <span class="kw">vjust</span> <span class="kw">=</span> <span class="fl">0</span>))</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
</div>
<div id="styling-the-patchwork" class="section level2">
<h2 class="hasAnchor">
<a href="#styling-the-patchwork" class="anchor"></a>Styling the patchwork</h2>
<p>Most of the style of the patchwork is made up by the themes of the individual patches. For a coherent look, don’t mix videly different looks. Setting the background colour of a single plot to a different shade is an effective way to highlight it, but e.g. different fonts or line widths will just look like a mess. The patchwork itself has a few elements itself that is succeptible to theming: A background, a margin, and title, subtitle &amp; caption. The theme of the patchwork is by default the default ggplot2 theme. It can be changed though, in two different ways. The easiest is to simply use <code><a href="https://rdrr.io/r/base/Logic.html">&amp;</a></code> with a theme element. This operator will add to the theme of all subplots as well as to the theme of the patchwork itself:</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">patchwork</span> +
  <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">'The surprising truth about mtcars'</span>) <span class="kw">&amp;</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">text</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="st">'mono'</span>))</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>If you need to address only the theme of the patchwork itself (e.g. for making the patchwork title larger than the plot titles), it can be done with the <code>theme</code> argument in <code><a href="../../reference/plot_annotation.html">plot_annotation()</a></code> (note that the use of one does not exclude the other):</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">patchwork</span> +
  <span class="fu"><a href="../../reference/plot_annotation.html">plot_annotation</a></span>(<span class="kw">title</span> <span class="kw">=</span> <span class="st">'The surprising truth about mtcars'</span>,
                  <span class="kw">theme</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">plot.title</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="kw">size</span> <span class="kw">=</span> <span class="fl">18</span>))) <span class="kw">&amp;</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span>(<span class="kw">text</span> <span class="kw">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span>(<span class="st">'mono'</span>))</pre></body></html></div>
<p><img src="annotation_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div id="want-more" class="section level2">
<h2 class="hasAnchor">
<a href="#want-more" class="anchor"></a>Want more?</h2>
<p>Now you know how to annotate and style your patchwork. Read the other guides about <a href="assembly.html">assembling</a> and <a href="layout.html">laying out</a> patchwork to master all of patchwork.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://data-imaginist.com">Thomas Lin Pedersen</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
